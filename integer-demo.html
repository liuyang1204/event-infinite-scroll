<link rel="import" href="event-infinite-scroll.html">

<polymer-element name="integer-demo">
    <template>
        <style>
            .item{
                padding: 50px;
                background-color: #c5d9fb;
                border: 1px solid grey;
            }
        </style>
            <event-infinite-scroll id="infscroll" data="{{data}}"  on-loading-up="{{loadUp}}" on-loading-down="{{loadDown}}"  up>
                <template repeat="{{data}}">
                    <div class="item">
                        {{a}}
                    </div>
                </template>
            </event-infinite-scroll>
            <button on-tap="{{addItem}}">add</button>
    </template>
    <script>
        Polymer({
            begin: 1,
            end: 15,
            data: [{a: 1}, {a: 2}, {a: 3}, {a: 4}, {a: 5}, {a: 6}, {a: 7}, {a: 8}, {a: 9}, {a: 10}, {a: 11}, {a: 12}, {a: 13}, {a: 14}, {a: 15}],
            loadUp: function(event, detail, target){
                var items = [];
                for(var i=0; i<10; i++) {
                    items.unshift({a: --this.begin});
                }

                setTimeout(function(){
                    detail.callback(items);
                }, 100);
            },
            loadDown: function(event, detail, target){
                var items = [];
                for(var i=0; i<10; i++) {
                    items.push({a: ++this.end});
                }
                setTimeout(function(){
                    detail.callback(items);
                }, 1000);
            },
            addItem: function(){
                this.data.push({a: ++ this.end});
                this.$.infscroll.stayBottom();
            }
        });
    </script>
</polymer-element>